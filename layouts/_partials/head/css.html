{{-
  $defaultCSSFrameworkLayers := slice
    "tokens"
    "base"
    "typography"
    "layout"
    "components"
    "utilities"
}}
{{-
  range default $defaultCSSFrameworkLayers
    site.Params.cssFrameworkLayers
}}
{{
  partial "inline/head/css/use.html"
    (printf "css/framework/%s.css" .)
}}
{{- end }}

{{
  partial "inline/head/css/use.html"
    (printf "css/designs/%s.css" site.Params.design)
}}

{{- if site.Params.useExternalSyntaxCSS }}
{{ partial "inline/head/css/use.html" "css/syntax.css" }}
{{- end }}

{{ partial "inline/head/css/use.html" "css/extensions.css" }}

{{- define "_partials/inline/head/css/use.html" }}
  {{- with resources.Get . }}
    {{- with . | minify | fingerprint }}
      {{- if site.Params.unsafeInlineCSS }}
<style>{{ .Content | safeCSS }}</style>
      {{- else }}
<link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}" crossorigin="anonymous">
      {{- end }}
    {{- end }}
  {{- end }}
{{- end }}
