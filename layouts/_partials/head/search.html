{{/* curl -OL https://unpkg.com/lunr/lunr.js && mv -v lunr.js lunr-SHA256-$(sha256 < lunr.js).js */}}
{{- $lunrURL := "/js/lunr-SHA256-9431726f05c0eae2a6e54dc197709422869f25cad44f2430d2fb7ddae80cc717.js"
      | relURL }}

{{- $indexURL := (resources.Get "_templates/index.json"
      | resources.ExecuteAsTemplate (printf "json/index.%s.json" .Lang) $
      | minify
      | fingerprint).RelPermalink }}

{{
  partial "utilities/useJS.html"
    (dict
      "path" "js/search.js"
      "dataset"
        (dict
          "lunr-url" $lunrURL
          "index-url" $indexURL
          "i18n-results-for-query" (i18n "results_for_query")
          "i18n-search-index-load-error" (i18n "search_index_load_error")
        )
    )
}}
