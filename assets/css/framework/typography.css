/* Copyright (c) 2025 Manish Jethani */

@layer kaizen.framework.typography {
  body > footer {
    font-family: var(--kaizen--footer-font-family);
  }

  nav {
    font-family: var(--kaizen--nav-font-family);
  }

  a {
    color: var(--kaizen--link-color);
    text-decoration: underline;
    text-decoration-style: var(--kaizen--link-text-decoration-style);
    text-underline-offset: var(--kaizen--link-text-underline-offset);
  }

  a:hover {
    color: var(--kaizen--link-hover-color);
  }

  a.active {
    text-decoration-style: var(--kaizen--active-link-text-decoration-style);
  }

  b, strong {
    font-weight: var(--kaizen--bold-font-weight);
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--kaizen--heading-font-family);
    font-weight: var(--kaizen--heading-font-weight);
    letter-spacing: var(--kaizen--heading-letter-spacing);
    line-height: var(--kaizen--heading-line-height);
    margin: 0;
    margin-block-end: calc(1 * var(--kaizen--font-size));
    margin-block-start: calc(1.618 * var(--kaizen--font-size));
    text-transform: var(--kaizen--heading-text-transform);
  }

  h1 {
    font-size: calc(2.058 * var(--kaizen--font-size));
  }

  h2 {
    font-size: calc(1.618 * var(--kaizen--font-size));
  }

  h3 {
    font-size: calc(1.272 * var(--kaizen--font-size));
  }

  h4, h5, h6 {
    font-size: calc(1 * var(--kaizen--font-size));
  }

  p {
    margin: 0;
    margin-block-end: calc(1 * var(--kaizen--font-size));
  }

  ul, ol {
    margin: 0;
    margin-block-end: calc(1 * var(--kaizen--font-size));
    margin-inline-start: calc(1.618 * var(--kaizen--font-size));
    padding: 0;
  }

  li + li {
    margin-block-start: calc(0.382 * var(--kaizen--font-size));
  }

  main > section > ul,
  main > aside > ul {
    list-style: none;
    margin-inline-start: 0;
  }

  main > section > ul > li:dir(ltr) {
    list-style-type: '→  ';
  }
  main > section > ul > li:dir(rtl) {
    list-style-type: '  ←';
  }

  .taxonomy-kind main > section > ul > li:dir(ltr) {
    list-style-type: '⧉  ';
  }
  .taxonomy-kind main > section > ul > li:dir(rtl) {
    list-style-type: '  ⧉';
  }

  pre {
    background-color: var(--kaizen--pre-background-color);
    border-radius: calc(0.486 * var(--kaizen--font-size));
    color: var(--kaizen--pre-color);
    font-size: calc(0.786 * var(--kaizen--font-size));
    margin: 0;
    margin-block: calc(1.618 * var(--kaizen--font-size));
    padding: calc(0.618 * var(--kaizen--font-size));
    white-space: pre-wrap;
    word-break: break-word;
  }

  pre:has(> code:only-child) {
    direction: ltr;
    text-align: start;
  }

  code {
    font-family: var(--kaizen--code-font-family);
  }

  :not(pre) > code {
    font-size: calc(0.786 * var(--kaizen--font-size));
  }

  img {
    display: block;
    block-size: auto;
    inline-size: auto;
    margin: 0;
    margin-block: calc(1.618 * var(--kaizen--font-size));
    max-inline-size: 100%;
  }

  figure {
    display: flex;
    flex-direction: column;
    gap: calc(0.618 * var(--kaizen--font-size));
    margin: 0;
    margin-block: calc(1.618 * var(--kaizen--font-size));
  }

  figure > * {
    margin: 0;
  }

  figure > figcaption {
    font-size: calc(0.786 * var(--kaizen--font-size));
  }

  blockquote {
    border-inline-start: calc(0.115 * var(--kaizen--font-size)) solid color-mix(in srgb, var(--kaizen--color) 11.5%, transparent);
    color: color-mix(in srgb, var(--kaizen--color) 78.6%, transparent);
    margin: 0;
    margin-block: calc(1.618 * var(--kaizen--font-size));
    padding: 0;
    padding-inline-start: calc(1 * var(--kaizen--font-size));
  }

  blockquote > footer {
    font-size: calc(0.786 * var(--kaizen--font-size));
  }

  blockquote > footer > cite:only-child {
    display: flex;
    font-style: normal;
  }

  blockquote > footer > cite:only-child::before {
    content: '―';
    margin-inline-end: calc(0.236 * var(--kaizen--font-size));
  }

  table {
    border-collapse: collapse;
    font-variant-numeric: tabular-nums;
    inline-size: 100%;
    margin: 0;
    margin-block: calc(1.618 * var(--kaizen--font-size));
  }

  caption {
    caption-side: block-end;
    color: color-mix(in srgb, var(--kaizen--color) 61.8%, transparent);
    font-size: calc(0.786 * var(--kaizen--font-size));
    padding-block-start: calc(0.486 * var(--kaizen--font-size));
  }

  thead th {
    background-color: color-mix(in srgb, var(--kaizen--color) 14.6%, transparent);
    text-align: start;
  }

  th, td {
    border-block-end: calc(0.071 * var(--kaizen--font-size)) solid color-mix(in srgb, var(--kaizen--color) 18.6%, transparent);
    padding-block: calc(0.486 * var(--kaizen--font-size));
    padding-inline: calc(0.618 * var(--kaizen--font-size));
    vertical-align: top;
  }

  th {
    font-weight: var(--kaizen--bold-font-weight);
  }

  tbody tr:nth-child(odd) {
    background-color: color-mix(in srgb, var(--kaizen--color) 5.6%, transparent);
  }

  tbody tr:hover {
    background-color: color-mix(in srgb, var(--kaizen--color) 11.5%, transparent);
  }

  th[scope=row] {
    text-align: start;
  }

  td > :first-child, th > :first-child {
    margin-block-start: 0;
  }

  td > :last-child, th > :last-child  {
    margin-block-end: 0;
  }
}
